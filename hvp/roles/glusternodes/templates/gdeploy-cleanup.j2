# gDeploy Gluster configuration cleanup file for HVP

# Nodes in the trusted pool
[hosts]
{% for host in groups['glusternodes'] %}
{{ host }}
{% endfor %}

# TODO: add LVM reset actions (create a fact gathering module hvp_gluster_disks then cycle among hosts and disks)

[volume1]
action=delete
volname=enginedomain
ignore_volume_errors=yes

[volume2]
action=delete
volname=vmstoredomain
ignore_volume_errors=yes

[volume3]
action=delete
volname=isodomain
ignore_volume_errors=yes

[volume4]
action=delete
volname=ctdb
ignore_volume_errors=yes

[volume5]
action=delete
volname=winshare
ignore_volume_errors=yes

[volume6]
action=delete
volname=unixshare
ignore_volume_errors=yes

[volume7]
action=delete
volname=blockshare
ignore_volume_errors=yes

[volume8]
action=delete
volname=backup
ignore_volume_errors=yes

[peer]
action=detach

[service1]
action=stop
service=glusterd

[service2]
action=disable
service=glusterd

[script1]
action=execute
file=/usr/local/sbin/lvm-cleanup.sh
ignore_script_errors=no
